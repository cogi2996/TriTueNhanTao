{"paragraphs":[{"title":"Bài 1: Hãy sử dụng thuật toán Local Beam Search với k = 2 để tìm đường đi từ S đến G","text":"%pyspark\r\nimport random\r\n\r\n# Hàm mục tiêu\r\ndef objective_function(state):\r\n    if state[-1] == 'Đốm' or state[-1] == 'Con' \\\r\n        or state[-1] == 'Dật' or state[-1] == 'Đốm' \\\r\n            or state[-1] == 'Chăm chỉ' or state[-1] == 'Kiếm' \\\r\n                or state[-1] == 'Xếp' or state[-1] == 'Toàn' \\\r\n                    or state[-1] == 'Tạo' or state[-1] == 'Ái':\r\n        return sum(graph[state[i]][state[i+1]] for i in range(len(state)-1))\r\n    else:\r\n        return float('inf')\r\n\r\n# Hàm sinh trạng thái con\r\ndef generate_successors(state):\r\n    successors = []\r\n    for neighbor in graph[state[-1]]:\r\n        if neighbor not in state:\r\n            successors.append(state + [neighbor])\r\n    return successors\r\n\r\n# Khởi tạo trạng thái ban đầu\r\ndef initialize_states(k):\r\n    states = []\r\n    for i in range(k):\r\n        state = ['Start']\r\n        while len(state) < 4:\r\n            successors = generate_successors(state)\r\n            if successors:\r\n                state = random.choice(successors)\r\n            else:\r\n                break\r\n        states.append(state)\r\n    return states\r\n\r\n# Local Beam Search\r\ndef local_beam_search(k):\r\n    states = initialize_states(k)\r\n    while True:\r\n        children = []\r\n        for state in states:\r\n            children += generate_successors(state)\r\n        if not children:\r\n            break\r\n        states = sorted(children, key=lambda x: objective_function(x))[:k]\r\n    return states\r\n    \r\n# Chạy thuật toán Local Beam Search\r\ngraph = {\r\n    'Start': {'Những': 8, 'Thuật': 12, 'Trí': 9},\r\n    'Những': {'Chú': 7, 'Con': 9},\r\n    'Chú': {'Heo': 7, 'Vịt': 6, 'Báo': 3},\r\n    'Heo': {'Con': 4},\r\n    'Vịt': {'Dật': 5},\r\n    'Báo': {'Đốm': 4},\r\n    'Con': {'Ong': 6},\r\n    'Ong': {'Chăm Chỉ': 4},\r\n    'Thuật': {'Toán': 12},\r\n    'Toán': {'Tìm': 3, 'Sắp': 4},\r\n    'Sắp': {'Xếp': 6},\r\n    'Tìm': {'Kiếm': 5},\r\n    'Trí': {'Dũng': 15, 'Tuệ': 6},\r\n    'Dũng': {'Song': 8},\r\n    'Song': {'Toàn': 5},\r\n    'Tuệ': {'Nhân': 5, 'Sáng': 8},\r\n    'Nhân': {'Tạo': 7, 'Ái': 8},\r\n    'Sáng': {'Tạo': 3},\r\n    'Con': {},\r\n    'Dật': {},\r\n    'Đốm': {},\r\n    'Chăm Chỉ': {},\r\n    'Kiếm': {},\r\n    'Xếp': {},\r\n    'Toàn': {},\r\n    'Tạo': {},\r\n    'Ái': {},\r\n    'Tạo': {}\r\n}\r\n\r\nk = 2\r\nresults = local_beam_search(k)\r\nprint(f\"Top {k} results: \")\r\nfor result in results:\r\n    print(f\"{result}, Cost: {objective_function(result)}\")\r\n","user":"anonymous","dateUpdated":"2023-04-07T20:49:22+0700","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/python","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Top 2 results: \n['Start', 'Thuật', 'Toán', 'Sắp', 'Xếp'], Cost: 34\n['Start', 'Trí', 'Dũng', 'Song', 'Toàn'], Cost: 37\n"}]},"apps":[],"jobName":"paragraph_1680873467998_-222354318","id":"20230407-201747_2432894","dateCreated":"2023-04-07T20:17:47+0700","dateStarted":"2023-04-07T20:47:01+0700","dateFinished":"2023-04-07T20:47:04+0700","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:10260"},{"title":"Bài 2: Tìm đường đi ngắn nhất","text":"%pyspark\nimport random\n\n# Hàm mục tiêu\ndef objective_function(state):\n    if state[-1] == 'G1' or state[-1] == 'G2':\n        return sum(graph[state[i]][state[i+1]] for i in range(len(state)-1))\n    else:\n        return float('inf')\n\n# Hàm sinh trạng thái con\ndef generate_successors(state):\n    successors = []\n    for neighbor in graph[state[-1]]:\n        if neighbor not in state:\n            successors.append(state + [neighbor])\n    return successors\n\n# Khởi tạo trạng thái ban đầu\ndef initialize_states(k):\n    states = []\n    for i in range(k):\n        state = ['S']\n        while len(state) < 4:\n            successors = generate_successors(state)\n            if successors:\n                state = random.choice(successors)\n            else:\n                break\n        states.append(state)\n    return states\n\n# Local Beam Search\ndef local_beam_search(k):\n    states = initialize_states(k)\n    while True:\n        children = []\n        for state in states:\n            children += generate_successors(state)\n        if not children:\n            break\n        states = sorted(children, key=lambda x: objective_function(x))[:k]\n    return states\n\n# Chạy thuật toán Local Beam Search\ngraph = {\n    'S': {'A': 1, 'B': 4},\n    'A': {'B': 2},\n    'B': {'C': 2, 'D': 3, 'E': 5},\n    'C': {'F': 3},\n    'D': {'E': 4, 'H': 6},\n    'F': {'I': 3},\n    'E': {'F': 4, 'I': 5},\n    'H': {'I': 3, 'J': 5},\n    'I': {'G1': 2, 'J': 4},\n    'J': {'G2': 2},\n    'G1': {},\n    'G2': {}\n}\n\nk = 2\nresults = local_beam_search(k)\nprint(f\"Top {k} results: \")\nfor result in results:\n    print(f\"{result}, Cost: {objective_function(result)}\")","user":"anonymous","dateUpdated":"2023-04-07T20:50:06+0700","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/python","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Top 2 results: \n['S', 'B', 'D', 'E', 'F', 'I', 'J', 'G2'], Cost: 24\n"}]},"apps":[],"jobName":"paragraph_1680875204805_1769170318","id":"20230407-204644_7107395","dateCreated":"2023-04-07T20:46:44+0700","dateStarted":"2023-04-07T20:50:06+0700","dateFinished":"2023-04-07T20:50:06+0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:10261"},{"user":"anonymous","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1680875398343_-272963631","id":"20230407-204958_2212801","dateCreated":"2023-04-07T20:49:58+0700","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:10262"}],"name":"Bài tập đề tài 4","id":"2HZ7BYJYW","noteParams":{},"noteForms":{},"angularObjects":{"spark:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}