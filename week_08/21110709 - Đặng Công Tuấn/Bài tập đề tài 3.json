{"paragraphs":[{"text":"%pyspark\n\n# Hàm simulated annealing\ndef simulated_annealing(objective_func, initial_solution, temperature, cooling_rate):\n    current_solution = initial_solution\n    best_solution = current_solution\n    while temperature > 1:\n        neighbor = neighbor_func(current_solution)\n        current_energy = objective_func(current_solution)\n        neighbor_energy = objective_func(neighbor)\n        delta_energy = neighbor_energy - current_energy\n        if delta_energy < 0:\n            current_solution = neighbor\n            if objective_func(current_solution) < objective_func(best_solution):\n                best_solution = current_solution\n        else:\n            if random.random() < math.exp(-delta_energy / temperature):\n                current_solution = neighbor\n        temperature *= (1-cooling_rate)\n    return (best_solution, objective_func(best_solution))","user":"anonymous","dateUpdated":"2023-04-07T14:56:26+0700","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1680854128425_-70591508","id":"20230322-234436_1792019810","dateCreated":"2023-04-07T14:55:28+0700","dateStarted":"2023-04-07T14:56:26+0700","dateFinished":"2023-04-07T14:56:38+0700","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:9260"},{"title":"Bài 1: Tìm điểm cực Đại trong đồ thị hàm số  trên [-1,3]","text":"\n%pyspark\n\n# Hàm mục tiêu\ndef objective_func(x):\n    return -(-5*x**4 + 3*x**3 + 7*x**2 + 4)","user":"anonymous","dateUpdated":"2023-04-07T14:56:38+0700","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1680854128429_1927317273","id":"20230322-120017_1127987216","dateCreated":"2023-04-07T14:55:28+0700","dateStarted":"2023-04-07T14:56:38+0700","dateFinished":"2023-04-07T14:56:38+0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:9261"},{"text":"%pyspark\n\n# Hàm tìm lân cận\ndef neighbor_func(current_solution):\n    new_solution = current_solution + random.uniform(-1, 1)\n\n    return max(min(new_solution, 3), -1)","user":"anonymous","dateUpdated":"2023-04-07T14:56:39+0700","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1680854128430_987767474","id":"20230322-132552_1534673481","dateCreated":"2023-04-07T14:55:28+0700","dateStarted":"2023-04-07T14:56:39+0700","dateFinished":"2023-04-07T14:56:39+0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:9262"},{"text":"%pyspark\n\nimport random\nimport math\n\n#biến nhiệt độ\ntemperature = 1000\n#hệ số giảm nhiệt\ncooling_rate = 0.01\n\n# Khởi tạo ngẫu nhiên giải pháp ban đầu\ninitial_solution = random.uniform(-1, 3)","user":"anonymous","dateUpdated":"2023-04-07T14:56:39+0700","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1680854128431_-686933065","id":"20230322-133307_638485267","dateCreated":"2023-04-07T14:55:28+0700","dateStarted":"2023-04-07T14:56:39+0700","dateFinished":"2023-04-07T14:56:39+0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:9263"},{"text":"%pyspark\n\nx, temp = simulated_annealing(objective_func, initial_solution, temperature, cooling_rate)\n\n# In ra kết quả\nprint('x = ', x)\nprint('f(x) = ', -temp)","user":"anonymous","dateUpdated":"2023-04-07T14:56:39+0700","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"x =  1.0875654785972386\nf(x) =  9.14364022572924\n"}]},"apps":[],"jobName":"paragraph_1680854128431_644139676","id":"20230322-133320_1724979724","dateCreated":"2023-04-07T14:55:28+0700","dateStarted":"2023-04-07T14:56:39+0700","dateFinished":"2023-04-07T14:56:39+0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:9264"},{"title":"Bài 2: Tìm cách thực hiện các công việc để lợi nhận cao nhất ?","text":"%pyspark\r\nimport random\r\nimport math\r\n\r\n# Hàm mục tiêu\r\ndef objective_func(jobs):\r\n    def cost(order):\r\n        total_cost = 0\r\n        for i, job in enumerate(order):\r\n            total_cost += jobs[job][1] if i+1 <= jobs[job][0] else 0\r\n        return total_cost\r\n    return cost\r\n\r\n# Hàm tìm lân cận\r\ndef neighbor_func(current_order):\r\n    neighbor = current_order[:]\r\n    i = random.randint(0, len(current_order)-1)\r\n    j = random.randint(0, len(current_order)-1)\r\n    neighbor[i], neighbor[j] = neighbor[j], neighbor[i]\r\n    return neighbor\r\n\r\n# Hàm simulated annealing\r\ndef simulated_annealing(objective_func, initial_solution, temperature, cooling_rate):\r\n    current_solution = initial_solution\r\n    best_solution = current_solution\r\n    while temperature > 1:\r\n        neighbor = neighbor_func(current_solution)\r\n        current_energy = objective_func(current_solution)\r\n        neighbor_energy = objective_func(neighbor)\r\n        delta_energy = neighbor_energy - current_energy\r\n        if delta_energy > 0:\r\n            current_solution = neighbor\r\n            if objective_func(current_solution) > objective_func(best_solution):\r\n                best_solution = current_solution\r\n        else:\r\n            if random.random() < math.exp(-delta_energy / temperature):\r\n                current_solution = neighbor\r\n        temperature *= (1 - cooling_rate)\r\n    return (best_solution, objective_func(best_solution))\r\n#Biến nhiệt độ\r\ntemperature = 10000\r\n#Hệ số giảm nhiệt\r\ncooling_rate = 0.01\r\n\r\n# Khởi tạo\r\njobs = [(4, 20), (2, 40), (4, 50), (6, 40), (3, 90), (7, 60), (9, 10), (2, 30)]\r\n\r\n# Khởi tạo ngẫu nhiên giải pháp ban đầu\r\ninitial_solution = list(range(len(jobs)))\r\nrandom.shuffle(initial_solution)\r\n\r\n# Định nghĩa bài toán sử dụng hàm objective_func\r\ncost_objective_func = objective_func(jobs)\r\n\r\n# Sử dụng simulated annealing để giải bài toán\r\nbest_order, best_reward = simulated_annealing(cost_objective_func, initial_solution, temperature, cooling_rate)\r\n\r\n# In ra kết quả\r\nprint(\"Các công việc cần làm để được thưởng theo thứ tự:\", [job+1 for job in best_order])\r\nprint('Tổng tiền thưởng: ', best_reward)","user":"anonymous","dateUpdated":"2023-04-07T14:59:31+0700","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Các công việc cần làm để được thưởng theo thứ tự: [2, 1, 5, 3, 4, 7, 6, 8]\nTổng tiền thưởng:  310\n"}]},"apps":[],"jobName":"paragraph_1680854128432_502266934","id":"20230322-133336_452949587","dateCreated":"2023-04-07T14:55:28+0700","dateStarted":"2023-04-07T14:59:31+0700","dateFinished":"2023-04-07T14:59:31+0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:9265"},{"text":"%pyspark\n","user":"anonymous","dateUpdated":"2023-04-07T14:59:31+0700","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1680854371510_735967760","id":"20230407-145931_5318334","dateCreated":"2023-04-07T14:59:31+0700","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:9266"}],"name":"Bài tập đề tài 3","id":"2HZ8N1Y14","noteParams":{},"noteForms":{},"angularObjects":{"spark:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}